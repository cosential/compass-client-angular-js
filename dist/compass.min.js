!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("compass",[],e):"object"==typeof exports?exports.compass=e():t.compass=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,s){function i(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}u((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=e.call(t,u)}catch(t){r=[6,t],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var s=r(8),i=function(){function t(t){this.config=t}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(t){this._config=t},enumerable:!0,configurable:!0}),t.prototype.get=function(t,e,r,i,a){return void 0===e&&(e={showErrors:!0}),void 0===r&&(r=0),void 0===i&&(i=500),void 0===a&&(a=!1),n(this,void 0,void 0,function(){var n,u,c,l;return o(this,function(o){switch(o.label){case 0:return n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json"},e.showErrors&&(n["x-compass-show-errors"]="true"),u=this.config.compassUrl+t,c="from="+r+"&size="+i,u+=t.indexOf("?q=")>-1?"&"+c:"?"+c,a&&(u+="&includedeleted=true"),[4,fetch(u,{method:"GET",headers:n})];case 1:return l=o.sent(),[2,this.handleResponse("GET",l)]}})})},t.prototype.post=function(t,e,r){return void 0===r&&(r={showErrors:!0}),n(this,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:return n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json","Content-Type":"application/json"},r.showErrors&&(n["x-compass-show-errors"]="true"),[4,fetch(this.config.compassUrl+t,{method:"POST",headers:n,body:JSON.stringify(e)})];case 1:return i=o.sent(),[2,this.handleResponse("POST",i)]}})})},t.prototype.put=function(t,e,r){return void 0===r&&(r={showErrors:!0}),n(this,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:return n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json","Content-Type":"application/json"},r.showErrors&&(n["x-compass-show-errors"]="true"),[4,fetch(this.config.compassUrl+t,{method:"PUT",headers:n,body:JSON.stringify(e)})];case 1:return i=o.sent(),[2,this.handleResponse("PUT",i)]}})})},t.prototype.delete=function(t,e){return void 0===e&&(e={showErrors:!0}),n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return r={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey},e.showErrors&&(r["x-compass-show-errors"]="true"),[4,fetch(this.config.compassUrl+t,{method:"DELETE",headers:r})];case 1:return n=o.sent(),[2,this.handleResponse("DELETE",n)]}})})},t.prototype.search=function(t,e,r,s,i,a,u){return void 0===r&&(r=null),void 0===s&&(s=0),void 0===i&&(i=500),void 0===a&&(a=!1),void 0===u&&(u={showErrors:!0}),n(this,void 0,void 0,function(){var n,c,l;return o(this,function(o){switch(o.label){case 0:if(""==(n=null!=e?e.trim():e)||null==n)throw new Error("Compass API call failed. String to search "+n+" is empty or invalid.");return c=t+"/search",l={queryString:n,fields:r,includeDeleted:a,Size:i,From:s},[4,this.post(c,l,u)];case 1:return[2,o.sent()]}})})},t.prototype.getSearch=function(t,e,r){return void 0===r&&(r={showErrors:!0}),n(this,void 0,void 0,function(){var n,s;return o(this,function(o){switch(o.label){case 0:if(""==(n=null!=e?e.trim():e)||null==n)throw new Error("Compass API call failed. String to search "+n+" is empty or invalid.");return s=t+"/search?q="+n,[4,this.get(s,r)];case 1:return[2,o.sent()]}})})},t.prototype.searchForAll=function(t,e,r,s,i){return void 0===r&&(r=null),void 0===s&&(s=!1),void 0===i&&(i={showErrors:!0}),n(this,void 0,void 0,function(){var n,a,u,c,l,f;return o(this,function(o){switch(o.label){case 0:n=!1,a=[],u=0,c=500,o.label=1;case 1:return n?[3,3]:[4,this.search(t,e,r,u,c,s,i)];case 2:if(l=o.sent(),200!=l.status)return[2,{success:l.success,status:l.status,error:l.error,message:l.message,result:null}];if(Object.keys(l.result).length>0){for(f=0;f<Object.keys(l.result).length;f++)a.push(l.result[f]);u+=c}else n=!0;return[3,1];case 3:return[2,{success:!0,status:200,error:null,message:null,result:a}]}})})},t.prototype.handleResponse=function(t,e){return n(this,void 0,void 0,function(){var r,n,s,i,a,u,c,l;return o(this,function(o){switch(o.label){case 0:if(r=e.status,n=e.statusText,s=e.url,a=null,u=null,e.ok)return[3,5];i="Compass "+t+" call failed. ["+s+"] responded with: ["+r+" "+n+"] + \n"+e.body,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.json()];case 2:return u=o.sent(),[3,4];case 3:return c=o.sent(),u=null,[3,4];case 4:return[3,9];case 5:if(i="Compass "+t+" call successful. ["+s+"] responded with: ["+r+" "+n+"]",200!=e.status)return[3,9];o.label=6;case 6:return o.trys.push([6,8,,9]),[4,e.json()];case 7:return a=o.sent(),[3,9];case 8:return l=o.sent(),u="Error parsing response.",[3,9];case 9:return[2,{success:e.status>=200&&e.status<=300,status:r,error:u,message:i,result:a}]}})})},t}();e.Client=i},function(t,e,r){r(10),t.exports=self.fetch.bind(self)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3);e.ClientConfig=n.ClientConfig;var o=r(0);e.Client=o.Client;var s=r(4);e.CompanyClient=s.CompanyClient;var i=r(5);e.ContactClient=i.ContactClient;var a=r(6);e.EmailClient=a.EmailClient;var u=r(7);e.PersonnelClient=u.PersonnelClient},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,r,n,o){this.urlTest=/^(http|https):\/\/[^ "]+$/,this.apiKeyTest=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,this._apiKey="",this._compassUrl="https://compass.uat.cosential.com/api",this._firmId=0,this._username="",this._password="",this.apiKey=n,this.compassUrl=o,this.firmId=t,this.username=e,this.password=r}return Object.defineProperty(t.prototype,"apiKey",{get:function(){return this._apiKey},set:function(t){if(!t||!this.apiKeyTest.test(t))throw new Error("apiKey config property value ["+t+"] is not valid.");this._apiKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compassUrl",{get:function(){return this._compassUrl},set:function(t){if(!t||!this.urlTest.test(t))throw new Error("compassUrl config property value ["+t+"] is not valid.");this._compassUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firmId",{get:function(){return this._firmId},set:function(t){if(!t)throw new Error("Please use a valid firmId.");this._firmId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){return this._username},set:function(t){this._username=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this._password},set:function(t){this._password=t},enumerable:!0,configurable:!0}),t}();e.ClientConfig=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,s){function i(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}u((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=e.call(t,u)}catch(t){r=[6,t],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var i=r(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getCompanyAddress=function(t,e){return void 0===e&&(e={showErrors:!0}),o(this,void 0,void 0,function(){var r,n,o,i,a,u,c;return s(this,function(s){switch(s.label){case 0:return r="/companies/"+t+"/addresses",[4,this.get(r,e)];case 1:return n=s.sent(),(o="",null!=n.result&&n.result.length>0)?(a=this.findAddress(n.result),a.addressId?(u=r+"/"+a.addressId,[4,this.get(u,e)]):[3,3]):[3,4];case 2:if(c=s.sent(),!c.success)return[2,c];i=c.result,s.label=3;case 3:return o=a.message,[3,5];case 4:o="No associated addresses",s.label=5;case 5:return[2,{success:!0,status:200,error:null,message:o,result:i}]}})})},e.prototype.findAddress=function(t){var e=this,r=0,n="",o=t.find(function(t){return t.defaultInd&&!t.deleterecord});if(o)r=o.AddressID,n="Default "+o.AddressTypeName+" address found and returned.";else{var s=t.find(function(r){return new Date(r.createdate).toString()==e.mostRecentDate(t)});s?(r=s.AddressID,n="Default address not found. Returning "+s.AddressTypeName+" address which is the most recent non-deleted address."):n="Default address or a non-deleted recent address not found."}return{addressId:r,message:n}},e.prototype.mostRecentDate=function(t){var e=[];return t.forEach(function(t){t.deleterecord||e.push(new Date(t.createdate))}),new Date(Math.max.apply(null,e)).toString()},e}(i.Client);e.CompanyClient=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,s){function i(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}u((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=e.call(t,u)}catch(t){r=[6,t],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var i=r(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getContactImage=function(t,e,r){return void 0===e&&(e="profilepicture"),void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,o,i;return s(this,function(s){switch(s.label){case 0:return n="/contacts/"+t+"/images",[4,this.get(n,r)];case 1:return o=s.sent(),null!=o.result&&o.result.length>0?(i="/images/contact/"+t+"/"+e,[4,this.get(i,r)]):[3,3];case 2:return[2,s.sent()];case 3:return[2,{success:!0,status:o.status,error:null,message:"No associated image metadata",result:null}]}})})},e.prototype.updateContactImage=function(t,e,r,n,i){return void 0===i&&(i={showErrors:!0}),o(this,void 0,void 0,function(){var o,a;return s(this,function(s){switch(s.label){case 0:return o="/images/contact/"+t+"/"+e,a={ContentType:r,Data:n},[4,this.put(o,a,i)];case 1:return[2,s.sent()]}})})},e.prototype.getContactAddress=function(t,e,r){return void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,o,i,a,u,c,l;return s(this,function(s){switch(s.label){case 0:return n="/contacts/"+t+"/addresses",[4,this.get(n,r)];case 1:return o=s.sent(),(i="",null!=o.result&&o.result.length>0)?(u=this.findAddress(o.result,e.toUpperCase()),u.addressId?(c=n+"/"+u.addressId,[4,this.get(c,r)]):[3,3]):[3,4];case 2:if(l=s.sent(),!l.success)return[2,l];a=l.result,s.label=3;case 3:return i=u.message,[3,5];case 4:i="No associated addresses",s.label=5;case 5:return[2,{success:!0,status:200,error:null,message:i,result:a}]}})})},e.prototype.findAddress=function(t,e){var r=this,n=0,o="",s="OFFICE"===e?"HOME":"OFFICE",i=t.find(function(t){return t.AddressType.toUpperCase()==e&&1==t.DefaultInd});if(i)n=i.AddressID,o="Default "+e+" address found and returned.";else{var a=t.find(function(n){return new Date(n.CreateDate).toString()==r.mostRecentDate(t,e)});if(a)n=a.AddressID,o="Default "+e+" address not found. Returning the most recent "+e+" address.";else{var u=t.find(function(t){return t.AddressType.toUpperCase()==s&&1==t.DefaultInd});if(u)n=u.AddressID,o="No "+e+" address found. Returning the default "+s+" address.";else{n=t.find(function(e){return new Date(e.CreateDate).toString()==r.mostRecentDate(t,s)}).AddressID,o="No "+e+" address found. No default "+s+" address found. Returning the most recent "+s+" address."}}}return{addressId:n,message:o}},e.prototype.mostRecentDate=function(t,e){var r=[];return t.forEach(function(t){t.AddressType.toUpperCase()==e&&r.push(new Date(t.CreateDate))}),new Date(Math.max.apply(null,r)).toString()},e}(i.Client);e.ContactClient=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,s){function i(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}u((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=e.call(t,u)}catch(t){r=[6,t],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var i=r(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.addAttachment=function(t,e,r){return void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,i,a,u=this;return s(this,function(c){switch(c.label){case 0:return n="/emails/"+t+"/attachments",(i=[],e.length>0)?(e.forEach(function(t,e){i.push({Id:0,FileName:"AttachmentViaAddIn "+e,DeleteRecord:!1,AttachmentEndpoint:null})}),[4,this.post(n,i,r)]):[3,2];case 1:return a=c.sent(),null!=a.result&&a.result.length>0?(a.result.forEach(function(t,r){return o(u,void 0,void 0,function(){var n,o,i;return s(this,function(s){switch(s.label){case 0:return n=t.AttachmentEndpoint,o=e[r],[4,this.put(n.substring(n.indexOf("/emails")),o)];case 1:return i=s.sent(),i.success?[2]:[2,i]}})})}),[2,{success:!0,status:200,error:null,message:"Attachments created successfully.",result:null}]):[2,{success:!1,status:a.status,error:a.error,message:"Metadata creation failed. No attachments added.",result:null}];case 2:return[2,{success:!0,status:204,error:null,message:"No attachments found.",result:null}];case 3:return[2]}})})},e}(i.Client);e.EmailClient=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,s){function i(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}u((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=e.call(t,u)}catch(t){r=[6,t],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0}),r(1);var i=r(0),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getPersonnelImage=function(t,e){return void 0===e&&(e={showErrors:!0}),o(this,void 0,void 0,function(){var r,n,o,i;return s(this,function(s){switch(s.label){case 0:return r="/personnel/"+t+"/images",[4,this.get(r,e)];case 1:return n=s.sent(),null!=n.result&&n.result.length>0?[4,this.search(r,"PrimaryPhoto:true")]:[3,3];case 2:return o=s.sent(),o.result.length>0?(i=o.result[0].OriginalImageEndpoint,i=i.substring(i.indexOf("/images/personnel/")),[2,this.get(i,e)]):[3,4];case 3:return[2,{success:n.success,status:n.status,error:n.error,message:n.message,result:null}];case 4:return[2]}})})},e}(i.Client);e.PersonnelClient=a},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){module.exports=e(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t.charAt(r)]=r;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),e>=2?"=":b64chars.charAt(r>>>6&63),e>=1?"=":b64chars.charAt(63&r)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return fromCharCode(55296+(r>>>10))+fromCharCode(56320+(1023&r));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,r=e%4,n=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][r],o.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(exports,__webpack_require__(9))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function n(t){return t&&DataView.prototype.isPrototypeOf(t)}function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return w.iterable&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function l(t){var e=new FileReader,r=c(e);return e.readAsArrayBuffer(t),r}function f(t){var e=new FileReader,r=c(e);return e.readAsText(t),r}function d(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:w.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:w.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:w.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():w.arrayBuffer&&w.blob&&n(t)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||C(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(t){var e=t.toUpperCase();return E.indexOf(e)>-1?e:t}function y(t,e){e=e||{};var r=e.body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=b(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function g(t){var e=new a;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}function _(t,e){return new Promise(function(r,n){function o(){i.abort()}var s=new y(t,e);if(s.signal&&s.signal.aborted)return n(new P("Aborted","AbortError"));var i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new v(e,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new P("Aborted","AbortError"))},i.open(s.method,s.url,!0),"include"===s.credentials?i.withCredentials=!0:"omit"===s.credentials&&(i.withCredentials=!1),"responseType"in i&&w.blob&&(i.responseType="blob"),s.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",o),i.onreadystatechange=function(){4===i.readyState&&s.signal.removeEventListener("abort",o)}),i.send(void 0===s._bodyInit?null:s._bodyInit)})}Object.defineProperty(e,"__esModule",{value:!0}),e.Headers=a,e.Request=y,e.Response=v,r.d(e,"DOMException",function(){return P}),e.fetch=_;var w={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(w.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],C=ArrayBuffer.isView||function(t){return t&&A.indexOf(Object.prototype.toString.call(t))>-1};a.prototype.append=function(t,e){t=o(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},a.prototype.delete=function(t){delete this.map[o(t)]},a.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},a.prototype.set=function(t,e){this.map[o(t)]=s(e)},a.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},a.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),i(t)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},a.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),i(t)},w.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},p.call(y.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];v.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var P=self.DOMException;try{new P}catch(t){P=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},P.prototype=Object.create(Error.prototype),P.prototype.constructor=P}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=a,self.Request=y,self.Response=v)},function(t,e,r){t.exports=r(2)}])});
//# sourceMappingURL=compass.min.js.map