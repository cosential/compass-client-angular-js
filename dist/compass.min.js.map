{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///compass.min.js","webpack:///webpack/bootstrap 6ea2b91b15ac4655b1ff?64f3","webpack:///./src/services/client.ts?c249","webpack:///./~/isomorphic-fetch/fetch-npm-browserify.js?7723","webpack:///./src/index.ts?eac3","webpack:///./src/service-models/client-config.ts?3a3f","webpack:///./src/services/company-client.ts?ffcf","webpack:///./src/services/contact-client.ts?b838","webpack:///./src/services/email-client.ts?3ac3","webpack:///./src/services/personnel-client.ts?aa73","webpack:///./~/js-base64/base64.js?e686","webpack:///(webpack)/buildin/global.js?3698","webpack:///./~/whatwg-fetch/fetch.js?1c20"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","v","op","f","TypeError","_","y","t","label","ops","pop","trys","length","push","g","sent","throw","return","Symbol","iterator","js_base64_1","Client","config","_config","set","url","opts","from","size","includeDeleted","showErrors","headers","requestUrl","paging","responseCode","responseText","responseUrl","response","message","data","e_1","e_2","_a","Authorization","Base64","encode","username","password","x-compass-firm-id","firmId","toString","x-compass-api-key","apiKey","Accept","compassUrl","indexOf","fetch","method","status","statusText","ok","Error","json","success","error","post","payload","e_3","e_4","Content-Type","JSON","stringify","put","e_5","e_6","delete","e_7","e_8","search","queryString","fields","searchQuery","searchParams","trim","Size","From","searchForAll","finished","res","index","keys","self","bind","client_config_1","ClientConfig","client_1","company_client_1","CompanyClient","contact_client_1","ContactClient","email_client_1","EmailClient","personnel_client_1","PersonnelClient","urlTest","apiKeyTest","_apiKey","_compassUrl","_firmId","_username","_password","test","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","_super","arguments","getCompanyAddress","companyId","addressUrl","allAddresses","address","resultUrl","findAddress","addressId","_this","primaryAddress","find","defaultInd","deleterecord","AddressID","AddressTypeName","secondaryAddress","Date","createdate","mostRecentDate","dates","forEach","Math","max","getContactImages","contactId","imageType","metadataUrl","metadataResponse","imageUrl","updateContactImage","contentType","imageData","ContentType","Data","getContactAddress","addressType","requestedAddress","otherAddress","AddressType","toLowerCase","DefaultInd","CreateDate","tertiaryAddress","addAttachment","emailId","attachments","createMetadataUrl","metadataUrls","attachment","Id","FileName","DeleteRecord","AttachmentEndpoint","metadataResult","endpoint","substring","getPersonnelImage","personnelId","OriginalImageEndpoint","global","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","window","_Base64","version","buffer","eval","err","undefined","b64chars","b64tab","bin","charAt","fromCharCode","String","cb_utob","cc","charCodeAt","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","join","btoa","_encode","Uint8Array","urisafe","m0","encodeURI","re_btou","RegExp","cb_btou","cccc","cp","offset","btou","cb_decode","len","chars","_atob","atob","a","_decode","decode","noConflict","VERSION","fromBase64","toBase64","__buffer__","noEnum","writable","extendString","Function","__webpack_exports__","isDataView","obj","DataView","isPrototypeOf","normalizeName","normalizeValue","iteratorFor","items","shift","support","iterable","Headers","map","append","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","bufferClone","slice","byteLength","Body","_initBody","_bodyInit","_bodyText","Blob","_bodyBlob","formData","FormData","_bodyFormData","URLSearchParams","arrayBuffer","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","type","text","parse","normalizeMethod","upcased","toUpperCase","methods","Request","input","options","credentials","mode","signal","referrer","form","split","bytes","decodeURIComponent","parseHeaders","rawHeaders","line","parts","key","Response","bodyInit","init","abortXhr","xhr","abort","request","aborted","DOMException","XMLHttpRequest","getAllResponseHeaders","responseURL","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","viewClasses","isView","oldValue","has","callback","values","entries","clone","redirectStatuses","redirect","RangeError","location","stack","polyfill"],"mappings":"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","file":"compass.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"compass\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"compass\"] = factory();\n\telse\n\t\troot[\"compass\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"compass\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"compass\"] = factory();\n\telse\n\t\troot[\"compass\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(1);\r\nvar js_base64_1 = __webpack_require__(8);\r\n/**\r\n * The Client service for Cosential Compass API calls.\r\n */\r\nvar Client = /** @class */ (function () {\r\n    function Client(config) {\r\n        this.config = config;\r\n    }\r\n    Object.defineProperty(Client.prototype, \"config\", {\r\n        get: function () {\r\n            return this._config;\r\n        },\r\n        set: function (value) {\r\n            this._config = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @param url - Compass API endpoint\r\n     * @param opts - Optional request headers\r\n     * @param from - Number of elements you would like to skip\r\n     * @param size - Number of elements you would like to receive (max is 500)\r\n     * @param includeDeleted - Include deleted records in GET\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.get = function (url, opts, from, size, includeDeleted) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        if (from === void 0) { from = 0; }\r\n        if (size === void 0) { size = 500; }\r\n        if (includeDeleted === void 0) { includeDeleted = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, requestUrl, paging, responseCode, responseText, responseUrl, response, message, data, e_1, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        headers = {\r\n                            'Authorization': 'Basic ' + js_base64_1.Base64.encode(this.config.username + ':' + this.config.password),\r\n                            'x-compass-firm-id': this.config.firmId.toString(),\r\n                            'x-compass-api-key': this.config.apiKey,\r\n                            'Accept': 'application/json'\r\n                        };\r\n                        requestUrl = this.config.compassUrl + url;\r\n                        paging = 'from=' + from + '&size=' + size;\r\n                        requestUrl += (url.indexOf('?q=') > -1) ? '&' + paging : '?' + paging;\r\n                        if (includeDeleted) {\r\n                            requestUrl += '&includedeleted=true';\r\n                        }\r\n                        if (opts.showErrors) {\r\n                            headers['x-compass-show-errors'] = 'true';\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 7, , 8]);\r\n                        return [4 /*yield*/, fetch(requestUrl, {\r\n                                method: 'GET',\r\n                                headers: headers\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        responseCode = response.status;\r\n                        responseText = response.statusText;\r\n                        responseUrl = response.url;\r\n                        if (!response.ok) {\r\n                            throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n                        }\r\n                        message = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n                        data = void 0;\r\n                        if (!(response.status == 200)) return [3 /*break*/, 6];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_1 = _a.sent();\r\n                        data = null;\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: responseCode,\r\n                            error: null,\r\n                            message: message,\r\n                            result: data\r\n                        }];\r\n                    case 7:\r\n                        e_2 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                status: responseCode,\r\n                                error: e_2,\r\n                                message: e_2.message,\r\n                                result: null\r\n                            }];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param url - Compass API endpoint\r\n     * @param payload - Array of elements\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.post = function (url, payload, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, responseCode, responseText, responseUrl, response, message, data, e_3, e_4;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        headers = {\r\n                            'Authorization': 'Basic ' + js_base64_1.Base64.encode(this.config.username + ':' + this.config.password),\r\n                            'x-compass-firm-id': this.config.firmId.toString(),\r\n                            'x-compass-api-key': this.config.apiKey,\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json'\r\n                        };\r\n                        if (opts.showErrors) {\r\n                            headers['x-compass-show-errors'] = 'true';\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 7, , 8]);\r\n                        return [4 /*yield*/, fetch(this.config.compassUrl + url, {\r\n                                method: 'POST',\r\n                                headers: headers,\r\n                                body: JSON.stringify(payload)\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        responseCode = response.status;\r\n                        responseText = response.statusText;\r\n                        responseUrl = response.url;\r\n                        if (!response.ok) {\r\n                            throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n                        }\r\n                        message = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n                        data = void 0;\r\n                        if (!(response.status == 200)) return [3 /*break*/, 6];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_3 = _a.sent();\r\n                        data = null;\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: responseCode,\r\n                            error: null,\r\n                            message: message,\r\n                            result: data\r\n                        }];\r\n                    case 7:\r\n                        e_4 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                status: responseCode,\r\n                                error: e_4,\r\n                                message: e_4.message,\r\n                                result: null\r\n                            }];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param url - Compass API endpoint with a valid Id\r\n     * @param payload - Updated element including new and existing values\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.put = function (url, payload, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, responseCode, responseText, responseUrl, response, message, data, e_5, e_6;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        headers = {\r\n                            'Authorization': 'Basic ' + js_base64_1.Base64.encode(this.config.username + ':' + this.config.password),\r\n                            'x-compass-firm-id': this.config.firmId.toString(),\r\n                            'x-compass-api-key': this.config.apiKey,\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': (opts.urlEncoded) ? 'application/x-www-form-urlencoded' : 'application/json'\r\n                        };\r\n                        if (opts.showErrors) {\r\n                            headers['x-compass-show-errors'] = 'true';\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 7, , 8]);\r\n                        return [4 /*yield*/, fetch(this.config.compassUrl + url, {\r\n                                method: 'PUT',\r\n                                headers: headers,\r\n                                body: JSON.stringify(payload)\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        responseCode = response.status;\r\n                        responseText = response.statusText;\r\n                        responseUrl = response.url;\r\n                        if (!response.ok) {\r\n                            throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n                        }\r\n                        message = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n                        data = void 0;\r\n                        if (!(response.status == 200)) return [3 /*break*/, 6];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_5 = _a.sent();\r\n                        data = null;\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: responseCode,\r\n                            error: null,\r\n                            message: message,\r\n                            result: data\r\n                        }];\r\n                    case 7:\r\n                        e_6 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                status: responseCode,\r\n                                error: e_6,\r\n                                message: e_6.message,\r\n                                result: null\r\n                            }];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param url - Compass API endpoint with a valid Id\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.delete = function (url, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var headers, responseCode, responseText, responseUrl, response, message, data, e_7, e_8;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        headers = {\r\n                            'Authorization': 'Basic ' + js_base64_1.Base64.encode(this.config.username + ':' + this.config.password),\r\n                            'x-compass-firm-id': this.config.firmId.toString(),\r\n                            'x-compass-api-key': this.config.apiKey\r\n                        };\r\n                        if (opts.showErrors) {\r\n                            headers['x-compass-show-errors'] = 'true';\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 7, , 8]);\r\n                        return [4 /*yield*/, fetch(this.config.compassUrl + url, {\r\n                                method: 'DELETE',\r\n                                headers: headers\r\n                            })];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        responseCode = response.status;\r\n                        responseText = response.statusText;\r\n                        responseUrl = response.url;\r\n                        if (!response.ok) {\r\n                            throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n                        }\r\n                        message = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n                        data = void 0;\r\n                        if (!(response.status == 200)) return [3 /*break*/, 6];\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        data = _a.sent();\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_7 = _a.sent();\r\n                        data = null;\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: responseCode,\r\n                            error: null,\r\n                            message: message,\r\n                            result: data\r\n                        }];\r\n                    case 7:\r\n                        e_8 = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                success: false,\r\n                                status: responseCode,\r\n                                error: e_8,\r\n                                message: e_8.message,\r\n                                result: null\r\n                            }];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param url - Compass API endpoint\r\n     * @param queryString - Complete search query\r\n     * @param from - Number of elements you would like to skip\r\n     * @param size - Number of elements you would like to receive (max is 500)\r\n     * @param includeDeleted - Include deleted records in search\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.search = function (url, queryString, fields, from, size, includeDeleted, opts) {\r\n        if (fields === void 0) { fields = null; }\r\n        if (from === void 0) { from = 0; }\r\n        if (size === void 0) { size = 500; }\r\n        if (includeDeleted === void 0) { includeDeleted = false; }\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var searchQuery, requestUrl, searchParams;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        searchQuery = (queryString != null) ? queryString.trim() : queryString;\r\n                        if (searchQuery == '' || searchQuery == null) {\r\n                            throw new Error('Compass API call failed. String to search ' + searchQuery + ' is empty or invalid.');\r\n                        }\r\n                        requestUrl = url + '/search';\r\n                        searchParams = {\r\n                            queryString: searchQuery,\r\n                            fields: fields,\r\n                            includeDeleted: includeDeleted,\r\n                            Size: size,\r\n                            From: from\r\n                        };\r\n                        return [4 /*yield*/, this.post(requestUrl, searchParams, opts)];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param url - Compass API endpoint\r\n     * @param queryString - Complete search query\r\n     * @param includeDeleted - Include deleted records in search\r\n     * @param fields - Comma-separated fields to return\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    Client.prototype.searchForAll = function (url, queryString, fields, includeDeleted, opts) {\r\n        if (fields === void 0) { fields = null; }\r\n        if (includeDeleted === void 0) { includeDeleted = false; }\r\n        if (opts === void 0) { opts = {\r\n            showErrors: true\r\n        }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var finished, data, from, size, res, index;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        finished = false;\r\n                        data = [];\r\n                        from = 0;\r\n                        size = 500;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!!finished) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.search(url, queryString, fields, from, size, includeDeleted, opts)];\r\n                    case 2:\r\n                        res = _a.sent();\r\n                        if (res.status == 200) {\r\n                            if (Object.keys(res.result).length > 0) {\r\n                                for (index = 0; index < Object.keys(res.result).length; index++) {\r\n                                    data.push(res.result[index]);\r\n                                }\r\n                                from += size;\r\n                            }\r\n                            else {\r\n                                finished = true;\r\n                            }\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, {\r\n                                    success: res.success,\r\n                                    status: res.status,\r\n                                    error: res.error,\r\n                                    message: res.message,\r\n                                    result: null\r\n                                }];\r\n                        }\r\n                        return [3 /*break*/, 1];\r\n                    case 3: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: 200,\r\n                            error: null,\r\n                            message: null,\r\n                            result: data\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Client;\r\n}());\r\nexports.Client = Client;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(10);\nmodule.exports = self.fetch.bind(self);\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Service Models\r\nvar client_config_1 = __webpack_require__(3);\r\nexports.ClientConfig = client_config_1.ClientConfig;\r\nvar client_1 = __webpack_require__(0);\r\nexports.Client = client_1.Client;\r\nvar company_client_1 = __webpack_require__(4);\r\nexports.CompanyClient = company_client_1.CompanyClient;\r\nvar contact_client_1 = __webpack_require__(5);\r\nexports.ContactClient = contact_client_1.ContactClient;\r\nvar email_client_1 = __webpack_require__(6);\r\nexports.EmailClient = email_client_1.EmailClient;\r\nvar personnel_client_1 = __webpack_require__(7);\r\nexports.PersonnelClient = personnel_client_1.PersonnelClient;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Represents the Client configuration used to authenticate the User.\r\n */\r\nvar ClientConfig = /** @class */ (function () {\r\n    function ClientConfig(firmId, username, password, apiKey, compassUrl) {\r\n        this.urlTest = /^(http|https):\\/\\/[^ \"]+$/;\r\n        this.apiKeyTest = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\r\n        this._apiKey = '';\r\n        this._compassUrl = 'https://compass.uat.cosential.com/api';\r\n        this._firmId = 0;\r\n        this._username = '';\r\n        this._password = '';\r\n        this.apiKey = apiKey;\r\n        this.compassUrl = compassUrl;\r\n        this.firmId = firmId;\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n    Object.defineProperty(ClientConfig.prototype, \"apiKey\", {\r\n        get: function () {\r\n            return this._apiKey;\r\n        },\r\n        set: function (value) {\r\n            if (!value || !this.apiKeyTest.test(value)) {\r\n                throw new Error('apiKey config property value [' + value + '] is not valid.');\r\n            }\r\n            else {\r\n                this._apiKey = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientConfig.prototype, \"compassUrl\", {\r\n        get: function () {\r\n            return this._compassUrl;\r\n        },\r\n        set: function (value) {\r\n            if (!value || !this.urlTest.test(value)) {\r\n                throw new Error('compassUrl config property value [' + value + '] is not valid.');\r\n            }\r\n            else {\r\n                this._compassUrl = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientConfig.prototype, \"firmId\", {\r\n        get: function () { return this._firmId; },\r\n        set: function (value) {\r\n            if (!value) {\r\n                throw new Error('Please use a valid firmId.');\r\n            }\r\n            else {\r\n                this._firmId = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientConfig.prototype, \"username\", {\r\n        get: function () {\r\n            return this._username;\r\n        },\r\n        set: function (value) {\r\n            this._username = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientConfig.prototype, \"password\", {\r\n        get: function () {\r\n            return this._password;\r\n        },\r\n        set: function (value) {\r\n            this._password = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ClientConfig;\r\n}());\r\nexports.ClientConfig = ClientConfig;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(1);\r\nvar client_1 = __webpack_require__(0);\r\n/**\r\n * The client service for any Company-specific requests with special logic.\r\n */\r\nvar CompanyClient = /** @class */ (function (_super) {\r\n    __extends(CompanyClient, _super);\r\n    function CompanyClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @param companyId - Cosential company id\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object containing a CompanyAddress as a Promise\r\n     */\r\n    CompanyClient.prototype.getCompanyAddress = function (companyId, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addressUrl, allAddresses, message, result, address, resultUrl, response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addressUrl = '/companies/' + companyId + '/addresses';\r\n                        return [4 /*yield*/, this.get(addressUrl, opts)];\r\n                    case 1:\r\n                        allAddresses = _a.sent();\r\n                        message = '';\r\n                        if (!(allAddresses.result != null && allAddresses.result.length > 0)) return [3 /*break*/, 4];\r\n                        address = this.findAddress(allAddresses.result);\r\n                        if (!address.addressId) return [3 /*break*/, 3];\r\n                        resultUrl = addressUrl + '/' + address.addressId;\r\n                        return [4 /*yield*/, this.get(resultUrl, opts)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (!response.success) {\r\n                            return [2 /*return*/, response];\r\n                        }\r\n                        else {\r\n                            result = response.result;\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        message = address.message;\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        message = 'No associated addresses';\r\n                        _a.label = 5;\r\n                    case 5: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: 200,\r\n                            error: null,\r\n                            message: message,\r\n                            result: result\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param allAddresses - Array of all addresses associated to a Company\r\n     *\r\n     * @returns - An address id and a message indicating success/failure details\r\n     */\r\n    CompanyClient.prototype.findAddress = function (allAddresses) {\r\n        var _this = this;\r\n        var addressId = 0;\r\n        var message = '';\r\n        var primaryAddress = allAddresses.find(function (index) { return index.defaultInd && !index.deleterecord; });\r\n        if (!primaryAddress) {\r\n            var secondaryAddress = allAddresses.find(function (index) { return (new Date(index.createdate).toString() == _this.mostRecentDate(allAddresses)); });\r\n            if (!secondaryAddress) {\r\n                message = 'Default address or a non-deleted recent address not found.';\r\n            }\r\n            else {\r\n                addressId = secondaryAddress.AddressID;\r\n                message = 'Default address not found. Returning ' + secondaryAddress.AddressTypeName + ' address which is the most recent non-deleted address.';\r\n            }\r\n        }\r\n        else {\r\n            addressId = primaryAddress.AddressID;\r\n            message = 'Default ' + primaryAddress.AddressTypeName + ' address found and returned.';\r\n        }\r\n        return { addressId: addressId, message: message };\r\n    };\r\n    /**\r\n     * @param allAddresses - Array of all addresses associated to a Company\r\n     *\r\n     * @returns - Most recent date for an address type as a string\r\n     */\r\n    CompanyClient.prototype.mostRecentDate = function (allAddresses) {\r\n        var dates = [];\r\n        allAddresses.forEach(function (address) {\r\n            if (!address.deleterecord) {\r\n                dates.push(new Date(address.createdate));\r\n            }\r\n        });\r\n        return new Date(Math.max.apply(null, dates)).toString();\r\n    };\r\n    return CompanyClient;\r\n}(client_1.Client));\r\nexports.CompanyClient = CompanyClient;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(1);\r\nvar client_1 = __webpack_require__(0);\r\n/**\r\n * The client service for Contact-specific requests with special logic.\r\n */\r\nvar ContactClient = /** @class */ (function (_super) {\r\n    __extends(ContactClient, _super);\r\n    function ContactClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @param contactId - Cosential contact id\r\n     * @param imageType - Required image type. ['profilepicture', 'cardfront', 'cardback']\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object containing an Image as a Promise\r\n     */\r\n    ContactClient.prototype.getContactImages = function (contactId, imageType, opts) {\r\n        if (imageType === void 0) { imageType = 'profilepicture'; }\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var metadataUrl, metadataResponse, imageUrl;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metadataUrl = '/contacts/' + contactId + '/images';\r\n                        return [4 /*yield*/, this.get(metadataUrl, opts)];\r\n                    case 1:\r\n                        metadataResponse = _a.sent();\r\n                        if (!(metadataResponse.result != null && metadataResponse.result.length > 0)) return [3 /*break*/, 3];\r\n                        imageUrl = '/images/contact/' + contactId + '/' + imageType;\r\n                        return [4 /*yield*/, this.get(imageUrl, opts)];\r\n                    case 2: return [2 /*return*/, _a.sent()];\r\n                    case 3: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: metadataResponse.status,\r\n                            error: null,\r\n                            message: 'No associated image metadata',\r\n                            result: null\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param contactId - The Contact's Id\r\n     * @param imageType - Which image should be set. Either 'profilepicture', 'cardfront', or 'cardback'\r\n     * @param contentType - 'image/gif', image/jpeg', 'image/png', or 'image/tiff'\r\n     * @param imageData - The raw base 64 encoded image data\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object containing an Image as a Promise\r\n     */\r\n    ContactClient.prototype.updateContactImage = function (contactId, imageType, contentType, imageData, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var url, payload;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        url = '/images/contact/' + contactId + '/' + imageType;\r\n                        payload = {\r\n                            ContentType: contentType,\r\n                            Data: imageData\r\n                        };\r\n                        return [4 /*yield*/, this.put(url, payload, opts)];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param contactId - Cosential contact id\r\n     * @param addressType - Required address type. ['office', 'home']\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns A detailed response object containing a ContactAddress as a Promise\r\n     */\r\n    ContactClient.prototype.getContactAddress = function (contactId, addressType, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addressUrl, allAddresses, message, result, address, resultUrl, response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addressUrl = '/contacts/' + contactId + '/addresses';\r\n                        return [4 /*yield*/, this.get(addressUrl, opts)];\r\n                    case 1:\r\n                        allAddresses = _a.sent();\r\n                        message = '';\r\n                        if (!(allAddresses.result != null && allAddresses.result.length > 0)) return [3 /*break*/, 4];\r\n                        address = this.findAddress(allAddresses.result, addressType);\r\n                        if (!address.addressId) return [3 /*break*/, 3];\r\n                        resultUrl = addressUrl + '/' + address.addressId;\r\n                        return [4 /*yield*/, this.get(resultUrl, opts)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (!response.success) {\r\n                            return [2 /*return*/, response];\r\n                        }\r\n                        else {\r\n                            result = response.result;\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        message = address.message;\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        message = 'No associated addresses';\r\n                        _a.label = 5;\r\n                    case 5: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: 200,\r\n                            error: null,\r\n                            message: message,\r\n                            result: result\r\n                        }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @param allAddresses - Array of all addresses associated to a Contact\r\n     * @param requestedAddress - Requested address type\r\n     *\r\n     * @returns - An address id and a message indicating success/failure details\r\n     */\r\n    ContactClient.prototype.findAddress = function (allAddresses, requestedAddress) {\r\n        var _this = this;\r\n        var addressId = 0;\r\n        var message = '';\r\n        var otherAddress = requestedAddress === 'office' ? 'home' : 'office';\r\n        var primaryAddress = allAddresses.find(function (index) { return (index.AddressType.toLowerCase() == requestedAddress) && (index.DefaultInd == true); });\r\n        if (!primaryAddress) {\r\n            var secondaryAddress = allAddresses.find(function (index) { return (new Date(index.CreateDate).toString() == _this.mostRecentDate(allAddresses, requestedAddress)); });\r\n            if (!secondaryAddress) {\r\n                var tertiaryAddress = allAddresses.find(function (index) { return (index.AddressType.toLowerCase() == otherAddress) && (index.DefaultInd == true); });\r\n                if (!tertiaryAddress) {\r\n                    var quaternaryAddress = allAddresses.find(function (index) { return (new Date(index.CreateDate).toString() == _this.mostRecentDate(allAddresses, otherAddress)); });\r\n                    ;\r\n                    addressId = quaternaryAddress.AddressID;\r\n                    message = 'No ' + requestedAddress + ' address found. No default ' + otherAddress + ' address found. Returning the most recent ' + otherAddress + ' address.';\r\n                }\r\n                else {\r\n                    addressId = tertiaryAddress.AddressID;\r\n                    message = 'No ' + requestedAddress + ' address found. Returning the default ' + otherAddress + ' address.';\r\n                }\r\n            }\r\n            else {\r\n                addressId = secondaryAddress.AddressID;\r\n                message = 'Default ' + requestedAddress + ' address not found. Returning the most recent ' + requestedAddress + ' address.';\r\n            }\r\n        }\r\n        else {\r\n            addressId = primaryAddress.AddressID;\r\n            message = 'Default ' + requestedAddress + ' address found and returned.';\r\n        }\r\n        return { addressId: addressId, message: message };\r\n    };\r\n    /**\r\n     * @param allAddresses - Array of all addresses associated to a Contact\r\n     * @param addressType - Address type to be looked up for most recent date\r\n     *\r\n     * @returns - Most recent date for an address type as a string\r\n     */\r\n    ContactClient.prototype.mostRecentDate = function (allAddresses, addressType) {\r\n        var dates = [];\r\n        allAddresses.forEach(function (address) {\r\n            if (address.AddressType.toLowerCase() == addressType) {\r\n                dates.push(new Date(address.CreateDate));\r\n            }\r\n        });\r\n        return new Date(Math.max.apply(null, dates)).toString();\r\n    };\r\n    return ContactClient;\r\n}(client_1.Client));\r\nexports.ContactClient = ContactClient;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(1);\r\nvar client_1 = __webpack_require__(0);\r\n/**\r\n * The client service for any Email-specific requests with special logic.\r\n */\r\nvar EmailClient = /** @class */ (function (_super) {\r\n    __extends(EmailClient, _super);\r\n    function EmailClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @param emailId - Cosential email id\r\n     * @param attachments - An array of attachments (Octet string preferred)\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    EmailClient.prototype.addAttachment = function (emailId, attachments, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var createMetadataUrl, payload, metadataUrls;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        createMetadataUrl = '/emails/' + emailId + '/attachments';\r\n                        payload = [];\r\n                        if (!(attachments.length > 0)) return [3 /*break*/, 2];\r\n                        attachments.forEach(function (attachment, index) {\r\n                            payload.push({\r\n                                Id: 0,\r\n                                FileName: \"AttachmentViaAddIn \" + index,\r\n                                DeleteRecord: false,\r\n                                AttachmentEndpoint: null\r\n                            });\r\n                        });\r\n                        return [4 /*yield*/, this.post(createMetadataUrl, payload, opts)];\r\n                    case 1:\r\n                        metadataUrls = _a.sent();\r\n                        if (metadataUrls.result != null && metadataUrls.result.length > 0) {\r\n                            metadataUrls.result.forEach(function (metadataResult, index) { return __awaiter(_this, void 0, void 0, function () {\r\n                                var endpoint, attachment, response;\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0:\r\n                                            endpoint = metadataResult.AttachmentEndpoint;\r\n                                            attachment = {\r\n                                                data: attachments[index]\r\n                                            };\r\n                                            return [4 /*yield*/, this.put(endpoint.substring(endpoint.indexOf('/emails')), attachment)];\r\n                                        case 1:\r\n                                            response = _a.sent();\r\n                                            if (!response.success) {\r\n                                                return [2 /*return*/, response];\r\n                                            }\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); });\r\n                            return [2 /*return*/, {\r\n                                    success: true,\r\n                                    status: 200,\r\n                                    error: null,\r\n                                    message: 'Attachments created successfully.',\r\n                                    result: null\r\n                                }];\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, {\r\n                                    success: false,\r\n                                    status: metadataUrls.status,\r\n                                    error: null,\r\n                                    message: 'Metadata creation failed. No attachments added.',\r\n                                    result: null\r\n                                }];\r\n                        }\r\n                        return [3 /*break*/, 3];\r\n                    case 2: return [2 /*return*/, {\r\n                            success: true,\r\n                            status: 204,\r\n                            error: null,\r\n                            message: 'No attachments found.',\r\n                            result: null\r\n                        }];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return EmailClient;\r\n}(client_1.Client));\r\nexports.EmailClient = EmailClient;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(1);\r\nvar client_1 = __webpack_require__(0);\r\n/**\r\n * The client service for Personnel-specific requests with special logic.\r\n */\r\nvar PersonnelClient = /** @class */ (function (_super) {\r\n    __extends(PersonnelClient, _super);\r\n    function PersonnelClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @param personnelId - Cosential personnel id\r\n     * @param opts - Optional request headers\r\n     *\r\n     * @returns - A detailed response object as a Promise\r\n     */\r\n    PersonnelClient.prototype.getPersonnelImage = function (personnelId, opts) {\r\n        if (opts === void 0) { opts = { showErrors: true }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var metadataUrl, metadataResponse, response, imageUrl;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        metadataUrl = '/personnel/' + personnelId + '/images';\r\n                        return [4 /*yield*/, this.get(metadataUrl, opts)];\r\n                    case 1:\r\n                        metadataResponse = _a.sent();\r\n                        if (!(metadataResponse.result != null && metadataResponse.result.length > 0)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.search(metadataUrl, 'PrimaryPhoto:true')];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (response.result.length > 0) {\r\n                            imageUrl = response.result[0].OriginalImageEndpoint;\r\n                            imageUrl = imageUrl.substring(imageUrl.indexOf('/images/personnel/'));\r\n                            return [2 /*return*/, this.get(imageUrl, opts)];\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3: return [2 /*return*/, {\r\n                            success: metadataResponse.success,\r\n                            status: metadataResponse.status,\r\n                            error: metadataResponse.error,\r\n                            message: metadataResponse.message,\r\n                            result: null\r\n                        }];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return PersonnelClient;\r\n}(client_1.Client));\r\nexports.PersonnelClient = PersonnelClient;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n     true\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (true) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function(){ return global.Base64 }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"Headers\"] = Headers;\n/* harmony export (immutable) */ __webpack_exports__[\"Request\"] = Request;\n/* harmony export (immutable) */ __webpack_exports__[\"Response\"] = Response;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (immutable) */ __webpack_exports__[\"fetch\"] = fetch;\nvar support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(2);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// compass.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6ea2b91b15ac4655b1ff","import 'isomorphic-fetch';\r\nimport { Base64 } from 'js-base64';\r\nimport { RequestOptions, ResponseData } from '..';\r\nimport { ClientConfig } from '../service-models/client-config';\r\n\r\n\r\n/**\r\n * The Client service for Cosential Compass API calls.\r\n */\r\nexport class Client {\r\n\r\n  private _config: ClientConfig;\r\n\r\n  public get config(): ClientConfig {\r\n    return this._config;\r\n  }\r\n\r\n  public set config(value: ClientConfig) {\r\n    this._config = value;\r\n  }\r\n\r\n  constructor(config: ClientConfig) {\r\n    this.config = config;\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint\r\n   * @param opts - Optional request headers\r\n   * @param from - Number of elements you would like to skip\r\n   * @param size - Number of elements you would like to receive (max is 500)\r\n   * @param includeDeleted - Include deleted records in GET\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async get < T > (\r\n    url: string,\r\n    opts: RequestOptions = { showErrors: true },\r\n    from: number = 0,\r\n    size: number = 500,\r\n    includeDeleted: boolean = false\r\n  ): Promise < ResponseData < T >> {\r\n    let headers = {\r\n      'Authorization': 'Basic ' + Base64.encode(this.config.username + ':' + this.config.password),\r\n      'x-compass-firm-id': this.config.firmId.toString(),\r\n      'x-compass-api-key': this.config.apiKey,\r\n      'Accept': 'application/json'\r\n    };\r\n\r\n    let requestUrl: string = this.config.compassUrl + url;\r\n    let paging: string = 'from=' + from + '&size=' + size;\r\n\r\n    requestUrl += (url.indexOf('?q=') > -1) ? '&' + paging : '?' + paging;\r\n    if (includeDeleted) {\r\n      requestUrl += '&includedeleted=true';\r\n    }\r\n    if (opts.showErrors) {\r\n      headers['x-compass-show-errors'] = 'true';\r\n    }\r\n\r\n    let responseCode: number;\r\n    let responseText: string;\r\n    let responseUrl: string;\r\n\r\n    try {\r\n      let response: Response = await fetch(\r\n        requestUrl, {\r\n          method: 'GET',\r\n          headers: headers\r\n        }\r\n      );\r\n\r\n      responseCode = response.status;\r\n      responseText = response.statusText;\r\n      responseUrl = response.url;\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n      }\r\n\r\n      let message: string = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n      let data: T;\r\n\r\n      if (response.status == 200) {\r\n        try {\r\n          data = await response.json();\r\n        } catch (e) {\r\n          data = null;\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        status: responseCode,\r\n        error: null,\r\n        message: message,\r\n        result: data\r\n      };\r\n    } catch (e) {\r\n      return {\r\n        success: false,\r\n        status: responseCode,\r\n        error: e,\r\n        message: e.message,\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint\r\n   * @param payload - Array of elements\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async post < T > (\r\n    url: string,\r\n    payload: T,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < T >> {\r\n    let headers = {\r\n      'Authorization': 'Basic ' + Base64.encode(this.config.username + ':' + this.config.password),\r\n      'x-compass-firm-id': this.config.firmId.toString(),\r\n      'x-compass-api-key': this.config.apiKey,\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    };\r\n\r\n    if (opts.showErrors) {\r\n      headers['x-compass-show-errors'] = 'true';\r\n    }\r\n\r\n    let responseCode: number;\r\n    let responseText: string;\r\n    let responseUrl: string;\r\n\r\n    try {\r\n      let response: Response = await fetch(\r\n        this.config.compassUrl + url, {\r\n          method: 'POST',\r\n          headers: headers,\r\n          body: JSON.stringify(payload)\r\n        }\r\n      );\r\n\r\n      responseCode = response.status;\r\n      responseText = response.statusText;\r\n      responseUrl = response.url;\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n      }\r\n\r\n      let message: string = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n      let data: T;\r\n\r\n      if (response.status == 200) {\r\n        try {\r\n          data = await response.json();\r\n        } catch (e) {\r\n          data = null;\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        status: responseCode,\r\n        error: null,\r\n        message: message,\r\n        result: data\r\n      };\r\n    } catch (e) {\r\n      return {\r\n        success: false,\r\n        status: responseCode,\r\n        error: e,\r\n        message: e.message,\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint with a valid Id\r\n   * @param payload - Updated element including new and existing values\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async put < T > (\r\n    url: string,\r\n    payload: T,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < T >> {\r\n    let headers = {\r\n      'Authorization': 'Basic ' + Base64.encode(this.config.username + ':' + this.config.password),\r\n      'x-compass-firm-id': this.config.firmId.toString(),\r\n      'x-compass-api-key': this.config.apiKey,\r\n      'Accept': 'application/json',\r\n      'Content-Type': (opts.urlEncoded) ? 'application/x-www-form-urlencoded' : 'application/json'\r\n    };\r\n\r\n    if (opts.showErrors) {\r\n      headers['x-compass-show-errors'] = 'true';\r\n    }\r\n\r\n    let responseCode: number;\r\n    let responseText: string;\r\n    let responseUrl: string;\r\n\r\n    try {\r\n\r\n      let response: Response = await fetch(\r\n        this.config.compassUrl + url, {\r\n          method: 'PUT',\r\n          headers: headers,\r\n          body: JSON.stringify(payload)\r\n        }\r\n      );\r\n\r\n      responseCode = response.status;\r\n      responseText = response.statusText;\r\n      responseUrl = response.url;\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n      }\r\n\r\n      let message: string = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n      let data: T;\r\n\r\n      if (response.status == 200) {\r\n        try {\r\n          data = await response.json();\r\n        } catch (e) {\r\n          data = null;\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        status: responseCode,\r\n        error: null,\r\n        message: message,\r\n        result: data\r\n      };\r\n    } catch (e) {\r\n      return {\r\n        success: false,\r\n        status: responseCode,\r\n        error: e,\r\n        message: e.message,\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint with a valid Id\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async delete < T > (\r\n    url: string,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < T >> {\r\n    let headers = {\r\n      'Authorization': 'Basic ' + Base64.encode(this.config.username + ':' + this.config.password),\r\n      'x-compass-firm-id': this.config.firmId.toString(),\r\n      'x-compass-api-key': this.config.apiKey\r\n    };\r\n\r\n    if (opts.showErrors) {\r\n      headers['x-compass-show-errors'] = 'true';\r\n    }\r\n\r\n    let responseCode: number;\r\n    let responseText: string;\r\n    let responseUrl: string;\r\n\r\n    try {\r\n      let response: Response = await fetch(\r\n        this.config.compassUrl + url, {\r\n          method: 'DELETE',\r\n          headers: headers\r\n        }\r\n      );\r\n\r\n      responseCode = response.status;\r\n      responseText = response.statusText;\r\n      responseUrl = response.url;\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Compass API call failed. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']');\r\n      }\r\n\r\n      let message: string = 'Compass API call successful. [' + responseUrl + '] responded with: [' + responseCode + ' ' + responseText + ']';\r\n      let data: T;\r\n\r\n      if (response.status == 200) {\r\n        try {\r\n          data = await response.json();\r\n        } catch (e) {\r\n          data = null;\r\n        }\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        status: responseCode,\r\n        error: null,\r\n        message: message,\r\n        result: data\r\n      };\r\n    } catch (e) {\r\n      return {\r\n        success: false,\r\n        status: responseCode,\r\n        error: e,\r\n        message: e.message,\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint\r\n   * @param queryString - Complete search query\r\n   * @param from - Number of elements you would like to skip\r\n   * @param size - Number of elements you would like to receive (max is 500)\r\n   * @param includeDeleted - Include deleted records in search\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async search < T > (\r\n    url: string,\r\n    queryString: string,\r\n    fields: string = null,\r\n    from: number = 0,\r\n    size: number = 500,\r\n    includeDeleted: boolean = false,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < T >> {\r\n    let searchQuery: string = (queryString != null) ? queryString.trim() : queryString;\r\n    if (searchQuery == '' || searchQuery == null) {\r\n      throw new Error('Compass API call failed. String to search ' + searchQuery + ' is empty or invalid.');\r\n    }\r\n\r\n    let requestUrl: string = url + '/search';\r\n\r\n    let searchParams: any = {\r\n      queryString: searchQuery,\r\n      fields: fields,\r\n      includeDeleted: includeDeleted,\r\n      Size: size,\r\n      From: from\r\n    }\r\n\r\n    return await this.post < T > (requestUrl, searchParams, opts);\r\n  }\r\n\r\n  /**\r\n   * @param url - Compass API endpoint\r\n   * @param queryString - Complete search query\r\n   * @param includeDeleted - Include deleted records in search\r\n   * @param fields - Comma-separated fields to return\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async searchForAll < T > (url: string, queryString: string, fields: string = null, includeDeleted: boolean = false, opts: RequestOptions = {\r\n    showErrors: true\r\n  }): Promise < ResponseData < T[] >> {\r\n\r\n    let finished: boolean = false;\r\n    let data: T[] = [];\r\n\r\n    let from: number = 0;\r\n    let size: number = 500;\r\n\r\n    while (!finished) {\r\n      let res: ResponseData < T > = await this.search < T > (url, queryString, fields, from, size, includeDeleted, opts);\r\n\r\n      if (res.status == 200) {\r\n        if (Object.keys(res.result).length > 0) {\r\n          for (let index = 0; index < Object.keys(res.result).length; index++) {\r\n            data.push(res.result[index]);\r\n          }\r\n          from += size;\r\n        } else {\r\n          finished = true;\r\n        }\r\n      } else {\r\n        return {\r\n          success: res.success,\r\n          status: res.status,\r\n          error: res.error,\r\n          message: res.message,\r\n          result: null\r\n        };\r\n      }\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      status: 200,\r\n      error: null,\r\n      message: null,\r\n      result: data\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/client.ts","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isomorphic-fetch/fetch-npm-browserify.js\n// module id = 1\n// module chunks = 0 1","// Compass Models\r\nexport { CallLog } from './compass-models/call-log';\r\nexport { Company } from './compass-models/company/company';\r\nexport { CompanyAddress } from './compass-models/company/company-address';\r\nexport { CompanyLSO } from './compass-models/company/company-lso';\r\nexport { CompanyNAICS } from './compass-models/company/company-naics';\r\nexport { CompanySDBT } from './compass-models/company/company-sdbt';\r\nexport { CompanySIC } from './compass-models/company/company-sic';\r\nexport { CompanyType } from './compass-models/company/company-type';\r\nexport { ContactRole } from './compass-models/contact-role';\r\nexport { ContactRoleType } from './compass-models/contact-role-type';\r\nexport { Contact } from './compass-models/contact/contact';\r\nexport { ContactAddress } from './compass-models/contact/contact-address';\r\nexport { ContactCategory } from './compass-models/contact/contact-category';\r\nexport { ContactInfluenceLevel } from './compass-models/contact/contact-influencelevel';\r\nexport { ContactMailingList } from './compass-models/contact/contact-mailinglist';\r\nexport { ContactRelationship } from './compass-models/contact/contact-relationship';\r\nexport { ContactRelationshipOption } from './compass-models/contact/contact-relationship-option';\r\nexport { ContactRelationshipStrength } from './compass-models/contact/contact-relationship-strength';\r\nexport { ContactType } from './compass-models/contact/contact-type';\r\nexport { Division } from './compass-models/division';\r\nexport { Email } from './compass-models/email/email';\r\nexport { EmailAttachment } from './compass-models/email/email-attachment';\r\nexport { EmailAttachmentMetadata } from './compass-models/email/email-attachment-metadata';\r\nexport { EmailCompany } from './compass-models/email/email-company';\r\nexport { EmailContact } from './compass-models/email/email-contact';\r\nexport { EmailLead } from './compass-models/email/email-lead';\r\nexport { EmailOpportunity } from './compass-models/email/email-opportunity';\r\nexport { EmailPersonnel } from './compass-models/email/email-personnel';\r\nexport { EmailProject } from './compass-models/email/email-project';\r\nexport { ContactImageMetadata } from './compass-models/images/contact-image-metadata';\r\nexport { Image } from './compass-models/images/image';\r\nexport { PersonnelImageMetadata } from './compass-models/images/personnel-image-metadata';\r\nexport { Lead } from './compass-models/lead/lead';\r\nexport { LeadContractType } from './compass-models/lead/lead-contract-type';\r\nexport { LeadRecordSource } from './compass-models/lead/lead-record-source';\r\nexport { LeadRiskProfile } from './compass-models/lead/lead-risk-profile';\r\nexport { LeadScore } from './compass-models/lead/lead-score';\r\nexport { LeadSource } from './compass-models/lead/lead-source';\r\nexport { LeadStage } from './compass-models/lead/lead-stage';\r\nexport { LeadType } from './compass-models/lead/lead-type';\r\nexport { Office } from './compass-models/office';\r\nexport { OfficeDivision } from './compass-models/office-division';\r\nexport { Opportunity } from './compass-models/opportunity/opportunity';\r\nexport { OpportunityClientType } from './compass-models/opportunity/opportunity-client-type';\r\nexport { OpportunityContact } from './compass-models/opportunity/opportunity-contact';\r\nexport { OpportunityDeliveryMethod } from './compass-models/opportunity/opportunity-delivery-method';\r\nexport { OpportunityProspectType } from './compass-models/opportunity/opportunity-prospect-type';\r\nexport { OpportunityRole } from './compass-models/opportunity/opportunity-role';\r\nexport { OpportunityStaffRole } from './compass-models/opportunity/opportunity-staff-role';\r\nexport { OpportunityStaffTeam } from './compass-models/opportunity/opportunity-staff-team';\r\nexport { OpportunityStage } from './compass-models/opportunity/opportunity-stage';\r\nexport { OpportunityStageType } from './compass-models/opportunity/opportunity-stage-type';\r\nexport { OpportunitySubmittalType } from './compass-models/opportunity/opportunity-submittal-type';\r\nexport { Personnel } from './compass-models/personnel';\r\nexport { PracticeArea } from './compass-models/practice-area';\r\nexport { PrimaryCategory } from './compass-models/primary-category';\r\nexport { Project } from './compass-models/project';\r\nexport { Schema } from './compass-models/schema';\r\nexport { SecondaryCategory } from './compass-models/secondary-category';\r\nexport { ServiceType } from './compass-models/service-type';\r\nexport { Social } from './compass-models/social';\r\nexport { Studio } from './compass-models/studio';\r\nexport { Territory } from './compass-models/territory';\r\nexport { User } from './compass-models/user';\r\nexport { UserFeature } from './compass-models/user-feature';\r\nexport { RequestOptions } from './interfaces/request-options';\r\n// Interfaces\r\nexport { ResponseData } from './interfaces/response-data';\r\n// Service Models\r\nexport { ClientConfig } from './service-models/client-config';\r\nexport { Client } from './services/client';\r\nexport { CompanyClient } from './services/company-client';\r\nexport { ContactClient } from './services/contact-client';\r\nexport { EmailClient } from './services/email-client';\r\nexport { PersonnelClient } from './services/personnel-client';\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","/**\r\n * Represents the Client configuration used to authenticate the User.\r\n */\r\nexport class ClientConfig {\r\n\r\n  private urlTest: RegExp = /^(http|https):\\/\\/[^ \"]+$/;\r\n  private apiKeyTest: RegExp = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\r\n\r\n  private _apiKey: string = '';\r\n  private _compassUrl: string = 'https://compass.uat.cosential.com/api';\r\n  private _firmId: number = 0;\r\n  private _username: string = '';\r\n  private _password: string = '';\r\n\r\n  public get apiKey(): string {\r\n    return this._apiKey;\r\n  }\r\n\r\n  public set apiKey(value: string) {\r\n    if (!value || !this.apiKeyTest.test(value)) {\r\n      throw new Error('apiKey config property value [' + value + '] is not valid.');\r\n    } else {\r\n      this._apiKey = value;\r\n    }\r\n  }\r\n\r\n  public get compassUrl(): string {\r\n    return this._compassUrl;\r\n  }\r\n\r\n  public set compassUrl(value: string) {\r\n    if (!value || !this.urlTest.test(value)) {\r\n      throw new Error('compassUrl config property value [' + value + '] is not valid.');\r\n    } else {\r\n      this._compassUrl = value;\r\n    }\r\n  }\r\n\r\n  public get firmId(): number { return this._firmId }\r\n\r\n  public set firmId(value: number) {\r\n    if (!value) {\r\n      throw new Error('Please use a valid firmId.');\r\n    } else {\r\n      this._firmId = value;\r\n    }\r\n  }\r\n\r\n  public get username(): string {\r\n    return this._username;\r\n  }\r\n\r\n  public set username(value: string) {\r\n    this._username = value;\r\n  }\r\n\r\n  public get password(): string {\r\n    return this._password\r\n  }\r\n\r\n  public set password(value: string) {\r\n    this._password = value\r\n  }\r\n\r\n  constructor(firmId ? : number, username ? : string, password ? : string, apiKey ? : string, compassUrl ? : string) {\r\n    this.apiKey = apiKey;\r\n    this.compassUrl = compassUrl;\r\n    this.firmId = firmId;\r\n    this.username = username;\r\n    this.password = password;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service-models/client-config.ts","import 'isomorphic-fetch';\r\nimport { RequestOptions, ResponseData } from '..';\r\nimport { CompanyAddress } from '../compass-models/company/company-address';\r\nimport { Client } from './client';\r\n\r\n/**\r\n * The client service for any Company-specific requests with special logic.\r\n */\r\nexport class CompanyClient extends Client {\r\n  /**\r\n   * @param companyId - Cosential company id\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object containing a CompanyAddress as a Promise\r\n   */\r\n  public async getCompanyAddress(\r\n    companyId: number,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < CompanyAddress > > {\r\n    let addressUrl: string = '/companies/' + companyId + '/addresses';\r\n    let allAddresses: ResponseData < CompanyAddress[] > = await this.get < CompanyAddress[] > (addressUrl, opts);\r\n    let message: string = '';\r\n    let result: CompanyAddress;\r\n\r\n    if (allAddresses.result != null && allAddresses.result.length > 0) {\r\n      let address: { addressId: number, message: string } = this.findAddress(allAddresses.result);\r\n\r\n      if (address.addressId) {\r\n        let resultUrl: string = addressUrl + '/' + address.addressId;\r\n        let response: ResponseData < CompanyAddress > = await this.get < CompanyAddress > (resultUrl, opts);\r\n        \r\n        if (!response.success) {\r\n          return response;\r\n        } else {\r\n          result = response.result;\r\n        }\r\n      }\r\n\r\n      message = address.message;\r\n    } else {\r\n      message = 'No associated addresses';\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      status: 200,\r\n      error: null,\r\n      message: message,\r\n      result: result\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param allAddresses - Array of all addresses associated to a Company\r\n   *\r\n   * @returns - An address id and a message indicating success/failure details\r\n   */\r\n  private findAddress(allAddresses: CompanyAddress[]): { addressId: number, message: string } {\r\n    let addressId: number = 0;\r\n    let message: string = '';\r\n\r\n    let primaryAddress: CompanyAddress = allAddresses.find(index => index.defaultInd && !index.deleterecord);\r\n    if (!primaryAddress) {\r\n      let secondaryAddress: CompanyAddress = allAddresses.find(index => (new Date(index.createdate).toString() == this.mostRecentDate(allAddresses)));\r\n      if (!secondaryAddress) {\r\n        message = 'Default address or a non-deleted recent address not found.';\r\n      } else {\r\n        addressId = secondaryAddress.AddressID;\r\n        message = 'Default address not found. Returning ' + secondaryAddress.AddressTypeName + ' address which is the most recent non-deleted address.';\r\n      }\r\n    } else {\r\n      addressId = primaryAddress.AddressID;\r\n      message = 'Default ' + primaryAddress.AddressTypeName + ' address found and returned.';\r\n    }\r\n    return { addressId: addressId, message: message };\r\n  }\r\n\r\n  /**\r\n   * @param allAddresses - Array of all addresses associated to a Company\r\n   *\r\n   * @returns - Most recent date for an address type as a string\r\n   */\r\n  private mostRecentDate(allAddresses: CompanyAddress[]): string {\r\n    let dates: Date[] = [];\r\n    allAddresses.forEach(address => {\r\n      if (!address.deleterecord) {\r\n        dates.push(new Date(address.createdate));\r\n      }\r\n    });\r\n    return new Date(Math.max.apply(null, dates)).toString();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/company-client.ts","import 'isomorphic-fetch';\r\nimport { RequestOptions, ResponseData } from '..';\r\nimport { ContactAddress } from '../compass-models/contact/contact-address';\r\nimport { ContactImageMetadata } from '../compass-models/images/contact-image-metadata';\r\nimport { Image } from '../compass-models/images/image';\r\nimport { Client } from './client';\r\n\r\n/**\r\n * The client service for Contact-specific requests with special logic.\r\n */\r\nexport class ContactClient extends Client {\r\n\r\n  /**\r\n   * @param contactId - Cosential contact id\r\n   * @param imageType - Required image type. ['profilepicture', 'cardfront', 'cardback']\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object containing an Image as a Promise\r\n   */\r\n  public async getContactImages(\r\n    contactId: number,\r\n    imageType: string = 'profilepicture',\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < Image > > {\r\n    let metadataUrl: string = '/contacts/' + contactId + '/images';\r\n    let metadataResponse: ResponseData < ContactImageMetadata[] > = await this.get < ContactImageMetadata[] > (metadataUrl, opts);\r\n\r\n    if (metadataResponse.result != null && metadataResponse.result.length > 0) {\r\n      let imageUrl: string = '/images/contact/' + contactId + '/' + imageType\r\n      return await this.get < Image > (imageUrl, opts);\r\n    } else {\r\n      return {\r\n        success: true,\r\n        status: metadataResponse.status,\r\n        error: null,\r\n        message: 'No associated image metadata',\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param contactId - The Contact's Id\r\n   * @param imageType - Which image should be set. Either 'profilepicture', 'cardfront', or 'cardback'\r\n   * @param contentType - 'image/gif', image/jpeg', 'image/png', or 'image/tiff'\r\n   * @param imageData - The raw base 64 encoded image data\r\n   * @param opts - Optional request headers\r\n   * \r\n   * @returns - A detailed response object containing an Image as a Promise\r\n   */\r\n  public async updateContactImage(\r\n    contactId: number,\r\n    imageType: string,\r\n    contentType: string,\r\n    imageData: string,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < Image > > {\r\n    let url: string = '/images/contact/' + contactId + '/' + imageType;\r\n    let payload: Image = {\r\n      ContentType: contentType,\r\n      Data: imageData\r\n    }\r\n\r\n    return await this.put < Image > (url, payload, opts);\r\n  }\r\n\r\n  /**\r\n   * @param contactId - Cosential contact id\r\n   * @param addressType - Required address type. ['office', 'home']\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns A detailed response object containing a ContactAddress as a Promise\r\n   */\r\n  public async getContactAddress(\r\n    contactId: number,\r\n    addressType: string,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < ContactAddress > > {\r\n    let addressUrl: string = '/contacts/' + contactId + '/addresses';\r\n    let allAddresses: ResponseData < ContactAddress[] > = await this.get < ContactAddress[] > (addressUrl, opts);\r\n    let message: string = '';\r\n    let result: ContactAddress;\r\n\r\n    if (allAddresses.result != null && allAddresses.result.length > 0) {\r\n      let address: { addressId: number, message: string } = this.findAddress(allAddresses.result, addressType);\r\n\r\n      if (address.addressId) {\r\n        let resultUrl: string = addressUrl + '/' + address.addressId;\r\n        let response: ResponseData < ContactAddress > = await this.get < ContactAddress > (resultUrl, opts);\r\n\r\n        if (!response.success) {\r\n          return response;\r\n        } else {\r\n          result = response.result;\r\n        }\r\n      }\r\n\r\n      message = address.message;\r\n    } else {\r\n      message = 'No associated addresses';\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      status: 200,\r\n      error: null,\r\n      message: message,\r\n      result: result\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param allAddresses - Array of all addresses associated to a Contact\r\n   * @param requestedAddress - Requested address type\r\n   *\r\n   * @returns - An address id and a message indicating success/failure details\r\n   */\r\n  private findAddress(allAddresses: ContactAddress[], requestedAddress: string): { addressId: number, message: string } {\r\n    let addressId: number = 0;\r\n    let message: string = '';\r\n    let otherAddress: string = requestedAddress === 'office' ? 'home' : 'office';\r\n\r\n    let primaryAddress: ContactAddress = allAddresses.find(index => (index.AddressType.toLowerCase() == requestedAddress) && (index.DefaultInd == true));\r\n    if (!primaryAddress) {\r\n      let secondaryAddress: ContactAddress = allAddresses.find(index => (new Date(index.CreateDate).toString() == this.mostRecentDate(allAddresses, requestedAddress)));\r\n      if (!secondaryAddress) {\r\n        let tertiaryAddress: ContactAddress = allAddresses.find(index => (index.AddressType.toLowerCase() == otherAddress) && (index.DefaultInd == true));\r\n        if (!tertiaryAddress) {\r\n          let quaternaryAddress: ContactAddress = allAddresses.find(index => (new Date(index.CreateDate).toString() == this.mostRecentDate(allAddresses, otherAddress)));;\r\n          addressId = quaternaryAddress.AddressID;\r\n          message = 'No ' + requestedAddress + ' address found. No default ' + otherAddress + ' address found. Returning the most recent ' + otherAddress + ' address.';\r\n        } else {\r\n          addressId = tertiaryAddress.AddressID;\r\n          message = 'No ' + requestedAddress + ' address found. Returning the default ' + otherAddress + ' address.';\r\n        }\r\n      } else {\r\n        addressId = secondaryAddress.AddressID;\r\n        message = 'Default ' + requestedAddress + ' address not found. Returning the most recent ' + requestedAddress + ' address.';\r\n      }\r\n    } else {\r\n      addressId = primaryAddress.AddressID;\r\n      message = 'Default ' + requestedAddress + ' address found and returned.';\r\n    }\r\n    return { addressId: addressId, message: message };\r\n  }\r\n\r\n  /**\r\n   * @param allAddresses - Array of all addresses associated to a Contact\r\n   * @param addressType - Address type to be looked up for most recent date\r\n   *\r\n   * @returns - Most recent date for an address type as a string\r\n   */\r\n  private mostRecentDate < T > (allAddresses: ContactAddress[], addressType: string): string {\r\n    let dates: Date[] = [];\r\n    allAddresses.forEach(address => {\r\n      if (address.AddressType.toLowerCase() == addressType) {\r\n        dates.push(new Date(address.CreateDate));\r\n      }\r\n    });\r\n    return new Date(Math.max.apply(null, dates)).toString();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/contact-client.ts","import 'isomorphic-fetch';\r\nimport { RequestOptions, ResponseData } from '..';\r\nimport { EmailAttachment } from '../compass-models/email/email-attachment';\r\nimport { EmailAttachmentMetadata } from '../compass-models/email/email-attachment-metadata';\r\nimport { Client } from './client';\r\n\r\n/**\r\n * The client service for any Email-specific requests with special logic.\r\n */\r\nexport class EmailClient extends Client {\r\n\r\n  /**\r\n   * @param emailId - Cosential email id\r\n   * @param attachments - An array of attachments (Octet string preferred)\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async addAttachment(\r\n    emailId: number,\r\n    attachments: EmailAttachment[],\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < EmailAttachment > > {\r\n    let createMetadataUrl: string = '/emails/' + emailId + '/attachments';\r\n    let payload: EmailAttachmentMetadata[] = [];\r\n\r\n    if (attachments.length > 0) {\r\n      attachments.forEach((attachment, index) => {\r\n        payload.push({\r\n          Id: 0,\r\n          FileName: \"AttachmentViaAddIn \" + index,\r\n          DeleteRecord: false,\r\n          AttachmentEndpoint: null\r\n        });\r\n      });\r\n\r\n      let metadataUrls: ResponseData < EmailAttachmentMetadata[] > = await this.post < EmailAttachmentMetadata[] > (createMetadataUrl, payload, opts);\r\n\r\n      if (metadataUrls.result != null && metadataUrls.result.length > 0) {\r\n        metadataUrls.result.forEach(async (metadataResult, index) => {\r\n          let endpoint: string = metadataResult.AttachmentEndpoint;\r\n\r\n          let attachment: EmailAttachment = {\r\n            data: attachments[index]\r\n          }\r\n\r\n          let response: ResponseData < EmailAttachment > = await this.put < EmailAttachment > (endpoint.substring(endpoint.indexOf('/emails')), attachment);\r\n          if (!response.success) {\r\n            return response;\r\n          }\r\n        })\r\n        return {\r\n          success: true,\r\n          status: 200,\r\n          error: null,\r\n          message: 'Attachments created successfully.',\r\n          result: null\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          status: metadataUrls.status,\r\n          error: null,\r\n          message: 'Metadata creation failed. No attachments added.',\r\n          result: null\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        success: true,\r\n        status: 204,\r\n        error: null,\r\n        message: 'No attachments found.',\r\n        result: null\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email-client.ts","import 'isomorphic-fetch';\r\nimport { RequestOptions, ResponseData } from '..';\r\nimport { PersonnelImageMetadata } from '../compass-models/images/personnel-image-metadata';\r\nimport { Image } from'../compass-models/images/image';\r\nimport { Client } from './client';\r\n\r\n/**\r\n * The client service for Personnel-specific requests with special logic.\r\n */\r\nexport class PersonnelClient extends Client {\r\n\r\n  /**\r\n   * @param personnelId - Cosential personnel id\r\n   * @param opts - Optional request headers\r\n   *\r\n   * @returns - A detailed response object as a Promise\r\n   */\r\n  public async getPersonnelImage(\r\n    personnelId: number,\r\n    opts: RequestOptions = { showErrors: true }\r\n  ): Promise < ResponseData < Image > > {\r\n    let metadataUrl: string = '/personnel/' + personnelId + '/images';\r\n    let metadataResponse: ResponseData < PersonnelImageMetadata[] > = await this.get < PersonnelImageMetadata[] > (metadataUrl, opts);\r\n\r\n    if (metadataResponse.result != null && metadataResponse.result.length > 0) {\r\n        let response: ResponseData < PersonnelImageMetadata[] > = await this.search < PersonnelImageMetadata[] > (metadataUrl, 'PrimaryPhoto:true');\r\n\r\n        if (response.result.length > 0) {\r\n          let imageUrl: string = response.result[0].OriginalImageEndpoint;\r\n          imageUrl = imageUrl.substring(imageUrl.indexOf('/images/personnel/'));\r\n          return this.get < Image > (imageUrl, opts);\r\n        }\r\n    } else {\r\n      return {\r\n        success: metadataResponse.success,\r\n        status: metadataResponse.status,\r\n        error: metadataResponse.error,\r\n        message: metadataResponse.message,\r\n        result: null\r\n      };\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/personnel-client.ts","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js-base64/base64.js\n// module id = 8\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 9\n// module chunks = 0 1","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 10\n// module chunks = 0 1"],"sourceRoot":""}